import{C as j,B as S,a as P,P as b,b as v,V as y,G as B,M as w,S as T,c as W,W as q,A as F,D as G,d as Z}from"./three-CZg6ZNZo.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();class Y{progress=0;listeners=[];contentElement=null;constructor(){this.handleScroll=this.handleScroll.bind(this)}init(s="#content"){this.contentElement=document.querySelector(s),window.addEventListener("scroll",this.handleScroll,{passive:!0}),this.handleScroll()}handleScroll(){if(!this.contentElement)return;const s=this.contentElement.scrollHeight-window.innerHeight;this.progress=Math.min(1,Math.max(0,window.scrollY/s)),this.listeners.forEach(t=>t(this.progress)),this.updateUI()}updateUI(){const s=document.getElementById("scroll-bar"),t=document.getElementById("scroll-percent");s&&(s.style.height=`${this.progress*100}%`),t&&(t.textContent=`${Math.round(this.progress*100)}%`);const e=this.getCurrentSection();document.querySelectorAll(".shape-section").forEach((i,n)=>{const r=i.querySelector(".shape-content");r&&(n===e?r.classList.add("visible"):r.classList.remove("visible"))})}getCurrentSection(){if(this.progress<.2)return-1;const s=(this.progress-.2)/.8;return Math.min(4,Math.floor(s*5))}getProgress(){return this.progress}subscribe(s){return this.listeners.push(s),()=>{this.listeners=this.listeners.filter(t=>t!==s)}}destroy(){window.removeEventListener("scroll",this.handleScroll),this.listeners=[]}}const z=new Y;function L(c,s){const t=new Float32Array(s*3);switch(c){case"box":{for(let e=0;e<s;e++){const o=Math.floor(Math.random()*6),i=Math.random()-.5,n=Math.random()-.5;switch(o){case 0:t[e*3]=.5,t[e*3+1]=i,t[e*3+2]=n;break;case 1:t[e*3]=-.5,t[e*3+1]=i,t[e*3+2]=n;break;case 2:t[e*3]=i,t[e*3+1]=.5,t[e*3+2]=n;break;case 3:t[e*3]=i,t[e*3+1]=-.5,t[e*3+2]=n;break;case 4:t[e*3]=i,t[e*3+1]=n,t[e*3+2]=.5;break;case 5:t[e*3]=i,t[e*3+1]=n,t[e*3+2]=-.5;break}}break}case"sphere":{for(let e=0;e<s;e++){const o=Math.acos(1-2*(e+.5)/s),i=Math.PI*(1+Math.sqrt(5))*e,n=.5;t[e*3]=n*Math.sin(o)*Math.cos(i),t[e*3+1]=n*Math.sin(o)*Math.sin(i),t[e*3+2]=n*Math.cos(o)}break}case"torus":{for(let i=0;i<s;i++){const n=Math.random()*Math.PI*2,r=Math.random()*Math.PI*2;t[i*3]=(.5+.2*Math.cos(r))*Math.cos(n),t[i*3+1]=(.5+.2*Math.cos(r))*Math.sin(n),t[i*3+2]=.2*Math.sin(r)}break}case"octahedron":{for(let e=0;e<s;e++){const o=Math.floor(Math.random()*8),i=Math.random(),n=Math.random()*(1-i),r=1-i-n,a=[[0,.6,0],[0,-.6,0],[.6,0,0],[-.6,0,0],[0,0,.6],[0,0,-.6]],d=[[0,2,4],[0,4,3],[0,3,5],[0,5,2],[1,4,2],[1,3,4],[1,5,3],[1,2,5]],[p,h,l]=d[o];t[e*3]=a[p][0]*i+a[h][0]*n+a[l][0]*r,t[e*3+1]=a[p][1]*i+a[h][1]*n+a[l][1]*r,t[e*3+2]=a[p][2]*i+a[h][2]*n+a[l][2]*r}break}case"cone":{for(let i=0;i<s;i++)if(Math.random()<.3){const r=Math.sqrt(Math.random())*.4,a=Math.random()*Math.PI*2;t[i*3]=r*Math.cos(a),t[i*3+1]=-.8/2,t[i*3+2]=r*Math.sin(a)}else{const r=Math.random(),a=.4*(1-r),d=Math.random()*Math.PI*2;t[i*3]=a*Math.cos(d),t[i*3+1]=-.8/2+r*.8,t[i*3+2]=a*Math.sin(d)}break}default:for(let e=0;e<s;e++){const o=Math.acos(1-2*(e+.5)/s),i=Math.PI*(1+Math.sqrt(5))*e;t[e*3]=.5*Math.sin(o)*Math.cos(i),t[e*3+1]=.5*Math.sin(o)*Math.sin(i),t[e*3+2]=.5*Math.cos(o)}}return t}function H(c,s,t){const e=new Float32Array(c*3);for(let o=0;o<c;o++){const i=Math.random()*Math.PI*2,n=Math.random()*Math.PI*2;e[o*3]=(s+t*Math.cos(n))*Math.cos(i),e[o*3+1]=(s+t*Math.cos(n))*Math.sin(i),e[o*3+2]=t*Math.sin(n)}return e}function X(c,s,t){const e=new Float32Array(c*3);for(let o=0;o<c;o++)e[o*3]=(Math.random()-.5)*s.x,e[o*3+1]=(Math.random()-.5)*s.y,e[o*3+2]=(Math.random()-.5)*s.z+t;return e}function D(c,s,t){const e=new Float32Array(c*3);for(let o=0;o<c;o++)e[o*3]=(Math.random()-.5)*s.x,e[o*3+1]=(Math.random()-.5)*s.y,e[o*3+2]=(Math.random()-.5)*s.z+t;return e}let M=null;function f(){if(M)return M;const c=64,s=document.createElement("canvas");s.width=c,s.height=c;const t=s.getContext("2d"),e=c/2,o=c/2-2,i=t.createRadialGradient(e,e,0,e,e,o);return i.addColorStop(0,"rgba(255, 255, 255, 1)"),i.addColorStop(.5,"rgba(255, 255, 255, 0.8)"),i.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=i,t.fillRect(0,0,c,c),M=new j(s),M.needsUpdate=!0,M}function U(){const c=window.innerWidth<768,s=navigator.hardwareConcurrency!==void 0&&navigator.hardwareConcurrency<=4;return c?.5:s?.7:1}function C(c){return Math.floor(c*U())}const N=[{id:0,geometry:"box",color:"#ffffff",animation:"left-to-center",pointCount:3e3},{id:1,geometry:"torus",color:"#ffffff",animation:"scatter-to-form",pointCount:4e3},{id:2,geometry:"sphere",color:"#ffffff",animation:"left-to-center",pointCount:5e3},{id:3,geometry:"octahedron",color:"#ffffff",animation:"zoom-through",pointCount:3e3},{id:4,geometry:"cone",color:"#ffffff",animation:"curve-zoom",pointCount:3500}],V=[{geometry:"box",color:"#ffffff",pointCount:1500,initialPos:[0,0,0]},{geometry:"torus",color:"#ffffff",pointCount:2e3,initialPos:[1.5,.8,-.5]},{geometry:"sphere",color:"#ffffff",pointCount:2500,initialPos:[-1.5,-.3,.3]},{geometry:"octahedron",color:"#ffffff",pointCount:1500,initialPos:[.8,-1,.5]},{geometry:"cone",color:"#ffffff",pointCount:1800,initialPos:[-1,1,-.3]}],A={"left-to-center":[-5,-2,2],"right-to-center":[5,-2,2],"zoom-through":[0,0,15],"curve-zoom":[6,-3,2]},$=[[-3,2,-8],[4,3,-10],[-4,-2,-9],[3,-3,-7],[-2,4,-11]],u={introEnd:.1,sectionStart:.1,sectionGap:.18,sectionDuration:.16,previewOffset:.05},g={count:200,spread:{x:30,y:30,z:20},zOffset:-5,size:.02,opacity:.6,rotationSpeed:.02},m={position:[3,-2,2],mainRadius:.5,tubeRadius:.2,scatterRange:{x:20,y:15,z:10},scatterZOffset:5};class K{points;constructor(s){const t=C(g.count),e=D(t,g.spread,g.zOffset),o=new S;o.setAttribute("position",new P(e,3));const i=new b({transparent:!0,color:16777215,size:g.size*2,sizeAttenuation:!0,depthWrite:!1,opacity:g.opacity,map:f(),alphaMap:f()});this.points=new v(o,i),this.points.frustumCulled=!1,s.add(this.points)}update(s){this.points.rotation.y+=g.rotationSpeed*s}dispose(){this.points.geometry.dispose(),this.points.material.dispose()}}class J{group;shapes=[];tempPosition=new y;tempScale=new y;constructor(s){this.group=new B,s.add(this.group),V.forEach((t,e)=>{const o=C(t.pointCount),i=L(t.geometry,o),n=new S;n.setAttribute("position",new P(i,3));const r=new b({transparent:!0,color:t.color,size:.025,sizeAttenuation:!0,depthWrite:!1,opacity:1,map:f(),alphaMap:f()}),a=new v(n,r);a.frustumCulled=!1,a.position.set(...t.initialPos),a.scale.setScalar(.6),this.group.add(a),this.shapes.push({points:a,initialPos:t.initialPos,direction:$[e]})})}update(s,t){const e=Math.min(1,t/u.introEnd);this.shapes.forEach(o=>{const{points:i,initialPos:n,direction:r}=o,a=n[0]+r[0]*e,d=n[1]+r[1]*e,p=n[2]+r[2]*e;this.tempPosition.set(a,d,p),i.position.lerp(this.tempPosition,.1);const h=.6*(1-e*.8);this.tempScale.setScalar(h),i.scale.lerp(this.tempScale,.1);const l=i.material;l.opacity=w.lerp(l.opacity,1-e,.1),i.rotation.x+=s*.3,i.rotation.y+=s*.2})}dispose(){this.shapes.forEach(s=>{s.points.geometry.dispose(),s.points.material.dispose()})}}class Q{points;data;sectionStart;sectionEnd;tempPosition=new y;tempScale=new y;constructor(s,t,e){this.data=t,this.sectionStart=u.sectionStart+e*u.sectionGap,this.sectionEnd=this.sectionStart+u.sectionDuration;const o=C(t.pointCount),i=L(t.geometry,o),n=new S;n.setAttribute("position",new P(i,3));const r=new b({transparent:!0,color:t.color,size:.03,sizeAttenuation:!0,depthWrite:!1,opacity:0,map:f(),alphaMap:f()});this.points=new v(n,r),this.points.frustumCulled=!1;const a=A[t.animation]||[0,0,-20];this.points.position.set(...a),this.points.scale.setScalar(3),s.add(this.points)}update(s,t){const e=this.sectionStart-u.previewOffset,o=t>=e&&t<=this.sectionEnd+.02,i=this.points.material;if(!o){i.opacity>.01&&(i.opacity*=.9);return}let n=A[this.data.animation]||[0,0,-20],r=3,a=0;if(t>=e&&t<this.sectionStart&&(a=(t-e)/u.previewOffset*.3),t>=this.sectionStart&&t<=this.sectionEnd){const d=(t-this.sectionStart)/(this.sectionEnd-this.sectionStart);switch(this.data.animation){case"left-to-center":{const p=-5+d*2,h=-2+d*1.5;n=[p,h,2],r=3,a=d>.9?(1-d)*10:1;break}case"right-to-center":{const p=5-d*2,h=-2+d*1.5;n=[p,h,2],r=3,a=d>.9?(1-d)*10:1;break}case"zoom-through":{n=[0,0,15-d*30],r=3,a=d>.7?Math.max(0,(1-d)*3.3):1;break}case"curve-zoom":{const p=d,h=6-p*8,l=-3+Math.sin(p*Math.PI)*4,E=2+p*5;n=[h,l,E],r=3,a=p>.85?(1-p)*6.7:1;break}}}this.tempPosition.set(...n),this.tempScale.setScalar(r),this.points.position.lerp(this.tempPosition,.06),this.points.scale.lerp(this.tempScale,.06),this.points.rotation.x+=s*.2,this.points.rotation.y+=s*.15,i.opacity=w.lerp(i.opacity,a,.1)}dispose(){this.points.geometry.dispose(),this.points.material.dispose()}}class _{points;sectionStart;sectionEnd;adjustedCount;scatteredPositions;torusPositions;constructor(s,t,e){this.sectionStart=u.sectionStart+e*u.sectionGap,this.sectionEnd=this.sectionStart+u.sectionDuration,this.adjustedCount=C(t.pointCount),this.scatteredPositions=X(this.adjustedCount,m.scatterRange,m.scatterZOffset),this.torusPositions=H(this.adjustedCount,m.mainRadius,m.tubeRadius);const o=new S;o.setAttribute("position",new P(this.scatteredPositions.slice(),3));const i=new b({transparent:!0,color:16777215,size:.04,sizeAttenuation:!0,depthWrite:!1,opacity:0,map:f(),alphaMap:f()});this.points=new v(o,i),this.points.frustumCulled=!1,s.add(this.points)}update(s,t){const e=this.sectionStart-u.previewOffset,o=t>=e&&t<=this.sectionEnd+.02,i=this.points.material;if(!o){i.opacity>.01&&(i.opacity*=.9);return}let n=0,r=0;if(t>=e&&t<this.sectionStart&&(n=(t-e)/u.previewOffset*.5,r=0),t>=this.sectionStart&&t<=this.sectionEnd){const h=(t-this.sectionStart)/(this.sectionEnd-this.sectionStart);h<.3?(n=Math.min(1,h/.3),r=0):h<.9?(n=1,r=(h-.3)/.6):(n=Math.max(0,(1-h)*10),r=1)}const a=this.points.geometry.getAttribute("position"),d=a.array,p=1-Math.pow(1-r,3);for(let h=0;h<this.adjustedCount;h++){const l=h*3,E=this.scatteredPositions[l],O=this.scatteredPositions[l+1],x=this.scatteredPositions[l+2],I=this.torusPositions[l]*3+m.position[0],R=this.torusPositions[l+1]*3+m.position[1],k=this.torusPositions[l+2]*3+m.position[2];d[l]=w.lerp(E,I,p),d[l+1]=w.lerp(O,R,p),d[l+2]=w.lerp(x,k,p)}if(a.needsUpdate=!0,r>.5){const h=(r-.5)*2;this.points.rotation.x+=s*.2*h,this.points.rotation.y+=s*.15*h}i.opacity=w.lerp(i.opacity,n,.1)}dispose(){this.points.geometry.dispose(),this.points.material.dispose()}}class tt{scene;camera;renderer;container;background;introShapes;shapeObjects=[];lastTime=0;animationId=null;constructor(s){const t=document.getElementById(s);if(!t)throw new Error(`Container #${s} not found`);this.container=t,this.scene=new T,this.camera=new W(45,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.set(0,0,8),this.renderer=new q({antialias:!0,alpha:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.container.appendChild(this.renderer.domElement),this.setupLights(),this.background=new K(this.scene),this.introShapes=new J(this.scene),this.createShapes(),window.addEventListener("resize",this.handleResize.bind(this)),this.animate=this.animate.bind(this)}setupLights(){const s=new F(16777215,.5);this.scene.add(s);const t=new G(16777215,1);t.position.set(10,10,5),this.scene.add(t);const e=new Z(15485081,.5);e.position.set(-10,-10,-5),this.scene.add(e)}createShapes(){N.forEach((s,t)=>{if(s.animation==="scatter-to-form"){const e=new _(this.scene,s,t);this.shapeObjects.push(e)}else{const e=new Q(this.scene,s,t);this.shapeObjects.push(e)}})}handleResize(){const s=window.innerWidth,t=window.innerHeight;this.camera.aspect=s/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(s,t)}start(){z.init("#content"),this.lastTime=performance.now(),this.animate(this.lastTime)}animate(s){this.animationId=requestAnimationFrame(this.animate);const t=(s-this.lastTime)/1e3;this.lastTime=s;const e=z.getProgress();this.background.update(t),this.introShapes.update(t,e),this.shapeObjects.forEach(o=>o.update(t,e)),this.renderer.render(this.scene,this.camera)}destroy(){this.animationId!==null&&cancelAnimationFrame(this.animationId),window.removeEventListener("resize",this.handleResize),z.destroy(),this.renderer.dispose(),this.container.removeChild(this.renderer.domElement)}}document.addEventListener("DOMContentLoaded",()=>{const c=new tt("canvas-container");c.start(),window.addEventListener("beforeunload",()=>{c.destroy()})});
